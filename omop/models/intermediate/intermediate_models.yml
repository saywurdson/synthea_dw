version: 2

models:
  - name: int_patient
    description: This table serves as the central identity management for all Persons in the database. It contains records that uniquely identify each person or patient, and some demographic information.
    materialized: table
    columns:
      - name: person_id
        description: Unique identifier for each person; should be treated independently. Preferably the original id from the source data if it is an integer, otherwise, it can be an autogenerated number.
      - name: gender_concept_id
        description: Captures the biological sex at birth of the Person. It should not be used to study gender identity issues, which should be stored in the OBSERVATION table if present.
      - name: year_of_birth
        description: The year the person was born. Should be derived from date of birth where available.
      - name: month_of_birth
        description: The month the person was born. Extracted and stored from date of birth where available.
      - name: day_of_birth
        description: The day the person was born. Extracted and stored from date of birth where available.
      - name: birth_datetime
        description: The precise datetime of birth of the person. Highly encouraged to be provided where available, with fallback logic if certain components (day, month) are unavailable.
      - name: race_concept_id
        description: Captures the race or ethnic background of the person. Use only if this information is available. If a clear race or ethnic background cannot be established, use Concept_Id 0.
      - name: ethnicity_concept_id
        description: Captures Ethnicity as defined by the OMB - only distinguishes between 'Hispanic' and 'Not Hispanic'. Do not infer Ethnicity from race or ethnic background.
      - name: location_id
        description: Refers to the physical address of the person. Should capture the last known location. Represents the most granular location information for the person.
      - name: provider_id
        description: Refers to the last known primary care provider (General Practitioner) of the person.
      - name: care_site_id
        description: Refers to the care site where the Provider typically provides primary care.
      - name: person_source_value
        description: Used to link back to persons in the source data. Typically used for error checking of ETL logic.
      - name: gender_source_value
        description: Stores the biological sex of the person from the source data. Not intended for use in standard analytics but for reference only.
      - name: gender_source_concept_id
        description: Stores the concept_id of the biological sex from the source data if it uses a non-standard vocabulary.
      - name: race_source_value
        description: Stores the race of the person as it appears in the source data. Not intended for use in standard analytics but for reference only.
      - name: race_source_concept_id
        description: Stores the concept_id of the race from the source data if it uses an OMOP supported vocabulary.
      - name: ethnicity_source_value
        description: Stores the ethnicity of the person from the source data. Not intended for use in standard analytics but for reference only.
      - name: ethnicity_source_concept_id
        description: Stores the concept_id of the ethnicity from the source data if it uses an OMOP supported vocabulary.
  - name: int_location
    description: The LOCATION table represents a generic way to capture physical location or address information of Persons and Care Sites.
    columns:
      - name: location_id
        description: The unique key given to a unique Location. Each instance of a Location in the source data should be assigned this unique key.
      - name: address_1
        description: This is the first line of the address.
      - name: address_2
        description: This is the second line of the address.
      - name: city
      - name: state
      - name: zip
        description: Zip codes are handled as strings of up to 9 characters length. For US addresses, these represent either a 3-digit abbreviated Zip code as provided by many sources for patient protection reasons, the full 5-digit Zip or the 9-digit (ZIP + 4) codes. Unless for specific reasons analytical methods should expect and utilize only the first 3 digits. For international addresses, different rules apply.
      - name: county
      - name: location_source_value
        description: Put the verbatim value for the location here, as it shows up in the source.
      - name: country_concept_id
        description: The Concept Id representing the country. Values should conform to the Geography domain.
      - name: country_source_value
        description: The name of the country.
      - name: latitude
        description: Must be between -90 and 90.
      - name: longitude
        description: Must be between -180 and 180.
  - name: int_care_site
    description: The CARE_SITE table contains a list of uniquely identified institutional (physical or organizational) units where healthcare delivery is practiced (offices, wards, hospitals, clinics, etc.).
    columns:
      - name: care_site_id
      - name: care_site_name
        description: The name of the care_site as it appears in the source data.
      - name: place_of_service_concept_id
        description: This is a high-level way of characterizing a Care Site. Typically, however, Care Sites can provide care in multiple settings (inpatient, outpatient, etc.) and this granularity should be reflected in the visit.
      - name: location_id
        description: The location_id from the LOCATION table representing the physical location of the care_site.
      - name: care_site_source_value
        description: The identifier of the care_site as it appears in the source data. This could be an identifier separate from the name of the care_site.
      - name: place_of_service_source_value
        description: Put the place of service of the care_site as it appears in the source data.